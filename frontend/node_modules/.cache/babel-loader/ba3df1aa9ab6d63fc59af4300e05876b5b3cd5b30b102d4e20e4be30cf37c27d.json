{"ast":null,"code":"import _slicedToArray from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useContext}from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{ValidateName,ValidateUserDescription}from\"../utils/Validator.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nameError=_useState6[0],setNameError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),descriptionError=_useState8[0],setDescriptionError=_useState8[1];useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:name,about:description});}function handleNameChange(evt){var newName=evt.target.value;setName(newName);var error=ValidateName(newName);setNameError(error);}function handleDescriptionChange(evt){var newDescription=evt.target.value;setDescription(newDescription);var error=ValidateUserDescription(newDescription);setDescriptionError(error);}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"editProfile\",title:\"Editar perfil\",submitButtonText:\"Guardar\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",placeholder:\"Nombre\",className:\"popup__text\",required:true,minLength:\"2\",maxLength:\"20\",value:name||\"\",onChange:handleNameChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error_main\",id:\"name-error\",children:nameError}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"about\",placeholder:\"Acerca de m\\xED\",className:\"popup__text\",required:true,minLength:\"2\",maxLength:\"200\",value:description||\"\",onChange:handleDescriptionChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error_main\",id:\"about-error\",children:descriptionError})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","useContext","PopupWithForm","CurrentUserContext","ValidateName","ValidateUserDescription","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","_useState5","_useState6","nameError","setNameError","_useState7","_useState8","descriptionError","setDescriptionError","about","handleSubmit","evt","preventDefault","handleNameChange","newName","target","value","error","handleDescriptionChange","newDescription","title","submitButtonText","onSubmit","children","type","id","placeholder","className","required","minLength","maxLength","onChange"],"sources":["C:/Users/shaye/react-around-api-full_es/frontend/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport { ValidateName, ValidateUserDescription } from \"../utils/Validator.js\"\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [descriptionError, setDescriptionError] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  function handleNameChange(evt) {\r\n    const newName = evt.target.value;\r\n    setName(newName);\r\n    const error = ValidateName(newName);\r\n    setNameError(error);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    const newDescription = evt.target.value;\r\n    setDescription(newDescription );\r\n    const error = ValidateUserDescription(newDescription );\r\n    setDescriptionError(error);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"editProfile\"\r\n      title=\"Editar perfil\"\r\n      submitButtonText=\"Guardar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div>\r\n        <input\r\n          type=\"text\"\r\n          id=\"name\"\r\n          placeholder=\"Nombre\"\r\n          className=\"popup__text\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          value={name || \"\"}\r\n          onChange={handleNameChange}\r\n        />\r\n        <span className=\"popup__input-error_main\" id=\"name-error\">{nameError}</span>\r\n        <input\r\n          type=\"text\"\r\n          id=\"about\"\r\n          placeholder=\"Acerca de mÃ­\"\r\n          className=\"popup__text\"\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description || \"\"}\r\n          onChange={handleDescriptionChange}\r\n        />\r\n        <span className=\"popup__input-error_main\" id=\"about-error\">{descriptionError}</span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}