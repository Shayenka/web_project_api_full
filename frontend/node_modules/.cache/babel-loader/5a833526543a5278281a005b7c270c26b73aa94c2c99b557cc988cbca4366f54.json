{"ast":null,"code":"import _slicedToArray from\"C:/Users/shaye/web_project_api_full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useContext}from\"react\";import PopupWithForm from\"./PopupWithForm.js\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import{ValidateLink}from\"../utils/Validator.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var currentUser=useContext(CurrentUserContext);var avatar=useRef(currentUser.avatar);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),avatarLink=_useState2[0],setAvatarLink=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),avatarError=_useState4[0],setAvatarError=_useState4[1];function handleSubmit(evt){evt.preventDefault();onUpdateAvatar(avatarLink);}function handleAvatarChange(evt){var newLinkAvatar=evt.target.value;setAvatarLink(newLinkAvatar);var error=ValidateLink(newLinkAvatar);setAvatarError(error);}return/*#__PURE__*/_jsx(PopupWithForm,{name:\"changeAvatar\",title:\"Actualizar foto de perfil\",submitButtonText:\"Guardar\",isOpen:isOpen,onClose:onClose,onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",id:\"linkAvatar\",name:\"link\",placeholder:\"URL de la foto de perfil\",className:\"popup__text\",required:true,onChange:handleAvatarChange,ref:avatar}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error_main\",id:\"linkAvatar-error\",children:avatarError})]})});}export default EditAvatarPopup;","map":{"version":3,"names":["React","useState","useRef","useContext","PopupWithForm","CurrentUserContext","ValidateLink","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","currentUser","avatar","_useState","_useState2","_slicedToArray","avatarLink","setAvatarLink","_useState3","_useState4","avatarError","setAvatarError","handleSubmit","evt","preventDefault","handleAvatarChange","newLinkAvatar","target","value","error","name","title","submitButtonText","onSubmit","children","type","id","placeholder","className","required","onChange","ref"],"sources":["C:/Users/shaye/web_project_api_full/frontend/src/components/EditAvatarPopup.js"],"sourcesContent":["import React, { useState, useRef, useContext } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport { ValidateLink } from \"../utils/Validator.js\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\r\n  const currentUser = useContext(CurrentUserContext);\r\n  const avatar = useRef(currentUser.avatar);\r\n\r\n  const [avatarLink, setAvatarLink] = useState(\"\");\r\n  const [avatarError, setAvatarError] = useState(\"\");\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateAvatar(avatarLink);\r\n  }\r\n\r\n  function handleAvatarChange(evt) {\r\n    const newLinkAvatar = evt.target.value;\r\n    setAvatarLink(newLinkAvatar);\r\n    const error = ValidateLink(newLinkAvatar);\r\n    setAvatarError(error);\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"changeAvatar\"\r\n      title=\"Actualizar foto de perfil\"\r\n      submitButtonText=\"Guardar\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <div>\r\n        <input\r\n          type=\"url\"\r\n          id=\"linkAvatar\"\r\n          name=\"link\"\r\n          placeholder=\"URL de la foto de perfil\"\r\n          className=\"popup__text\"\r\n          required\r\n          onChange={handleAvatarChange}\r\n          ref={avatar}\r\n        />\r\n        <span className=\"popup__input-error_main\" id=\"linkAvatar-error\">{avatarError}</span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n"],"mappings":"kIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,UAAU,KAAQ,OAAO,CAC3D,MAAO,CAAAC,aAAa,KAAM,oBAAoB,CAC9C,OAASC,kBAAkB,KAAQ,mCAAmC,CACtE,OAASC,YAAY,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACxD,GAAM,CAAAC,WAAW,CAAGb,UAAU,CAACE,kBAAkB,CAAC,CAClD,GAAM,CAAAY,MAAM,CAAGf,MAAM,CAACc,WAAW,CAACC,MAAM,CAAC,CAEzC,IAAAC,SAAA,CAAoCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAsCtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAElC,QAAS,CAAAG,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBd,cAAc,CAACM,UAAU,CAAC,CAC5B,CAEA,QAAS,CAAAS,kBAAkBA,CAACF,GAAG,CAAE,CAC/B,GAAM,CAAAG,aAAa,CAAGH,GAAG,CAACI,MAAM,CAACC,KAAK,CACtCX,aAAa,CAACS,aAAa,CAAC,CAC5B,GAAM,CAAAG,KAAK,CAAG5B,YAAY,CAACyB,aAAa,CAAC,CACzCL,cAAc,CAACQ,KAAK,CAAC,CACvB,CAEA,mBACE1B,IAAA,CAACJ,aAAa,EACZ+B,IAAI,CAAC,cAAc,CACnBC,KAAK,CAAC,2BAA2B,CACjCC,gBAAgB,CAAC,SAAS,CAC1BxB,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEA,OAAQ,CACjBwB,QAAQ,CAAEX,YAAa,CAAAY,QAAA,cAEvB7B,KAAA,QAAA6B,QAAA,eACE/B,IAAA,UACEgC,IAAI,CAAC,KAAK,CACVC,EAAE,CAAC,YAAY,CACfN,IAAI,CAAC,MAAM,CACXO,WAAW,CAAC,0BAA0B,CACtCC,SAAS,CAAC,aAAa,CACvBC,QAAQ,MACRC,QAAQ,CAAEf,kBAAmB,CAC7BgB,GAAG,CAAE7B,MAAO,CACb,CAAC,cACFT,IAAA,SAAMmC,SAAS,CAAC,yBAAyB,CAACF,EAAE,CAAC,kBAAkB,CAAAF,QAAA,CAAEd,WAAW,CAAO,CAAC,EACjF,CAAC,CACO,CAAC,CAEpB,CAEA,cAAe,CAAAd,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}