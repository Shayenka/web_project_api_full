{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(_registerUserApi){function Api(_ref){var address=_ref.address,groupId=_ref.groupId,token=_ref.token;_classCallCheck(this,Api);this.token=token;this.address=address;this.groupId=groupId;}_createClass(Api,[{key:\"_useFetch\",value:function _useFetch(url,method,body){return fetch(url,{headers:{authorization:\"Bearer \".concat(this.token),\"Content-Type\":\"application/json\"},method:method,body:JSON.stringify(body)}).then(function(res){if(res.ok){return res.json();}return Promise.reject(\"Error: \".concat(res.status));});}},{key:\"getUserInfo\",value:function getUserInfo(){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/users/me\",\"GET\").then(function(result){return result;});}},{key:\"editUserInfo\",value:function editUserInfo(name,about){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/users/me\",\"PATCH\",{name:name,about:about}).then(function(result){return result;});}},{key:\"getCards\",value:function getCards(){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/cards\",\"GET\").then(function(result){return result;});}},{key:\"changeLikeCardStatus\",value:function changeLikeCardStatus(cardId,isLiked){var method=isLiked?\"PUT\":\"DELETE\";return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/cards/likes/\".concat(cardId),method).then(function(result){return result;});}},{key:\"deleteCard\",value:function deleteCard(cardId){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/cards/\".concat(cardId),\"DELETE\").then(function(result){return result;});}},{key:\"changeAvatarProfile\",value:function changeAvatarProfile(userAvatar){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/users/me/avatar\",\"PATCH\",userAvatar).then(function(result){return result;});}},{key:\"addNewCard\",value:function addNewCard(name,link){return this._useFetch(\"https://around.nomoreparties.co/v1/web_es_05/cards\",\"POST\",{name:name,link:link}).then(function(result){return result;});}},{key:\"registerUserApi\",value:function registerUserApi(_x,_x2){return(_registerUserApi=_registerUserApi||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",this._useFetch(\"https://register.nomoreparties.co/signup\",\"POST\",{email:email,password:password}).then(function(result){console.log(result);return result;}).catch(function(err){return console.log(err);}));case 1:case\"end\":return _context.stop();}},_callee,this);}))).apply(this,arguments);}}]);return Api;}();export default Api;","map":{"version":3,"names":["Api","_registerUserApi","_ref","address","groupId","token","_classCallCheck","_createClass","key","value","_useFetch","url","method","body","fetch","headers","authorization","concat","JSON","stringify","then","res","ok","json","Promise","reject","status","getUserInfo","result","editUserInfo","name","about","getCards","changeLikeCardStatus","cardId","isLiked","deleteCard","changeAvatarProfile","userAvatar","addNewCard","link","registerUserApi","_x","_x2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","wrap","_callee$","_context","prev","next","abrupt","console","log","catch","err","stop","apply","arguments"],"sources":["C:/Users/shaye/react-around-api-full_es/frontend/src/utils/api.js"],"sourcesContent":["class Api {\r\n  constructor({ address, groupId, token }) {\r\n    this.token = token; \r\n    this.address = address;\r\n    this.groupId = groupId;\r\n  }\r\n\r\n  _useFetch(url, method, body) {\r\n    return fetch(url, {\r\n      headers: {\r\n        authorization: `Bearer ${this.token}`, \r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      method,\r\n      body: JSON.stringify(body),\r\n    }).then((res) => {\r\n      if (res.ok) {\r\n        return res.json();\r\n      }\r\n      return Promise.reject(`Error: ${res.status}`);\r\n    });\r\n  }\r\n\r\n  getUserInfo() {\r\n    return this._useFetch(\r\n      \"https://around.nomoreparties.co/v1/web_es_05/users/me\",\r\n      `GET`\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  editUserInfo(name, about) {\r\n    return this._useFetch(\r\n      \"https://around.nomoreparties.co/v1/web_es_05/users/me\",\r\n      `PATCH`,\r\n      { name: name, about: about }\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  getCards() {\r\n    return this._useFetch(\r\n      \"https://around.nomoreparties.co/v1/web_es_05/cards\",\r\n      `GET`\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  changeLikeCardStatus(cardId, isLiked) {\r\n    const method = isLiked ? \"PUT\" : \"DELETE\";\r\n    return this._useFetch(\r\n      `https://around.nomoreparties.co/v1/web_es_05/cards/likes/${cardId}`,\r\n      method\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return this._useFetch(\r\n      `https://around.nomoreparties.co/v1/web_es_05/cards/${cardId}`,\r\n      `DELETE`\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  changeAvatarProfile(userAvatar) {\r\n    return this._useFetch(\r\n      \"https://around.nomoreparties.co/v1/web_es_05/users/me/avatar\",\r\n      `PATCH`,\r\n      userAvatar\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  addNewCard(name, link) {\r\n    return this._useFetch(\r\n      \"https://around.nomoreparties.co/v1/web_es_05/cards\",\r\n      `POST`,\r\n      { name: name, link: link }\r\n    ).then((result) => {\r\n      return result;\r\n    });\r\n  }\r\n\r\n  async registerUserApi(email, password) {\r\n    return this._useFetch(`https://register.nomoreparties.co/signup`, `POST`, {\r\n      email,\r\n      password,\r\n    })\r\n      .then((result) => {\r\n        console.log(result);\r\n        return result;\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n}\r\n\r\nexport default Api;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}