{"ast":null,"code":"import _slicedToArray from\"C:/Users/shaye/react-around-api-full_es/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useNavigate,useLocation}from\"react-router-dom\";import{ValidateEmail,ValidatePassword}from\"../utils/Validator.js\";import logo from\"../images/logo.svg\";import{authorize}from\"../utils/auth.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(_ref){var onLoggedIn=_ref.onLoggedIn,loggedIn=_ref.loggedIn;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),emailError=_useState6[0],setEmailError=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordError=_useState8[0],setPasswordError=_useState8[1];var navigate=useNavigate();var location=useLocation();function handleEmailChange(evt){var newEmail=evt.target.value;setEmail(newEmail);var error=ValidateEmail(newEmail);setEmailError(error);}function handlePasswordChange(evt){var newPassword=evt.target.value;setPassword(newPassword);var error=ValidatePassword(newPassword);setPasswordError(error);}function handleSubmit(evt){evt.preventDefault();if(!email||!password){return;}authorize(email,password).then(function(data){if(data.token){onLoggedIn();navigate(\"/\");}}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsxs(_Fragment,{children:[location.pathname===\"/signin\"&&!loggedIn?/*#__PURE__*/_jsxs(\"section\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"header__logo\",src:logo,alt:\"logo Around The U.S\"}),/*#__PURE__*/_jsx(\"div\",{className:\"header__container-texts\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"header__text\",style:{textDecoration:\"none\"},children:\"Reg\\xEDstrate\"})})]}):null,/*#__PURE__*/_jsxs(\"form\",{className:\"container__main\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h3\",{className:\"container__main__title\",children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",placeholder:\"Correo electr\\xF3nico\",className:\"container__main__text\",required:true,minLength:\"2\",maxLength:\"40\",value:email||\"\",onChange:handleEmailChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"email-error\",children:emailError}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",placeholder:\"Contrase\\xF1a\",className:\"container__main__text\",required:true,minLength:\"2\",maxLength:\"200\",value:password||\"\",onChange:handlePasswordChange}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error\",id:\"password-error\",children:passwordError})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"container__main__button\",onClick:handleSubmit,children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container__main__footer\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"container__main__text-footer\",children:\"\\xBFA\\xFAn no eres miembro?\"}),/*#__PURE__*/_jsx(Link,{to:\"/signup\",className:\"container__main__text-footer_link\",style:{textDecoration:\"none\"},children:\"Reg\\xEDstrate aqu\\xED\"})]})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useLocation","ValidateEmail","ValidatePassword","logo","authorize","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","onLoggedIn","loggedIn","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","emailError","setEmailError","_useState7","_useState8","passwordError","setPasswordError","navigate","location","handleEmailChange","evt","newEmail","target","value","error","handlePasswordChange","newPassword","handleSubmit","preventDefault","then","data","token","catch","err","console","log","children","pathname","className","src","alt","to","style","textDecoration","onSubmit","type","id","placeholder","required","minLength","maxLength","onChange","onClick"],"sources":["C:/Users/shaye/react-around-api-full_es/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useNavigate, useLocation } from \"react-router-dom\";\r\nimport { ValidateEmail, ValidatePassword } from \"../utils/Validator.js\";\r\nimport logo from \"../images/logo.svg\";\r\nimport { authorize } from \"../utils/auth.js\";\r\n\r\nfunction Login({ onLoggedIn, loggedIn }) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [emailError, setEmailError] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  function handleEmailChange(evt) {\r\n    const newEmail = evt.target.value;\r\n    setEmail(newEmail);\r\n    const error = ValidateEmail(newEmail);\r\n    setEmailError(error);\r\n  }\r\n\r\n  function handlePasswordChange(evt) {\r\n    const newPassword = evt.target.value;\r\n    setPassword(newPassword);\r\n    const error = ValidatePassword(newPassword);\r\n    setPasswordError(error);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    authorize(email, password)\r\n      .then((data) => {\r\n        if (data.token) {\r\n          onLoggedIn();\r\n          navigate(\"/\");\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {location.pathname === \"/signin\" && !loggedIn ? (\r\n        <section className=\"header\">\r\n          <img className=\"header__logo\" src={logo} alt=\"logo Around The U.S\" />\r\n          <div className=\"header__container-texts\">\r\n            <Link\r\n              to=\"/signup\"\r\n              className=\"header__text\"\r\n              style={{ textDecoration: \"none\" }}\r\n            >\r\n              Regístrate\r\n            </Link>\r\n          </div>\r\n        </section>\r\n      ) : null}\r\n      <form className=\"container__main\" onSubmit={handleSubmit}>\r\n        <h3 className=\"container__main__title\">Iniciar Sesión</h3>\r\n        <div>\r\n          <input\r\n            type=\"text\"\r\n            id=\"email\"\r\n            placeholder=\"Correo electrónico\"\r\n            className=\"container__main__text\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"40\"\r\n            value={email || \"\"}\r\n            onChange={handleEmailChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"email-error\">\r\n            {emailError}\r\n          </span>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Contraseña\"\r\n            className=\"container__main__text\"\r\n            required\r\n            minLength=\"2\"\r\n            maxLength=\"200\"\r\n            value={password || \"\"}\r\n            onChange={handlePasswordChange}\r\n          />\r\n          <span className=\"popup__input-error\" id=\"password-error\">\r\n            {passwordError}\r\n          </span>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"container__main__button\"\r\n          onClick={handleSubmit}\r\n        >\r\n          Iniciar Sesión\r\n        </button>\r\n        <div className=\"container__main__footer\">\r\n          <h4 className=\"container__main__text-footer\">\r\n            ¿Aún no eres miembro?\r\n          </h4>\r\n          <Link\r\n            to=\"/signup\"\r\n            className=\"container__main__text-footer_link\"\r\n            style={{ textDecoration: \"none\" }}\r\n          >\r\n            Regístrate aquí\r\n          </Link>\r\n        </div>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}